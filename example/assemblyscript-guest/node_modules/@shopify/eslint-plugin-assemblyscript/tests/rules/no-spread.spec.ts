import rule from '../../lib/rules/no-spread';
import { RuleTester } from 'eslint';

const ruleTester = new RuleTester({
  parser: require.resolve('@typescript-eslint/parser'),
  parserOptions: {
    sourceType: 'module',
    ecmaVersion: 6,
  }
});

ruleTester.run('no-spread', rule, {
  valid: [
    'foo(bar)',
    'foo(1, bar)',
  ],
  invalid: [
    { code: 'foo(...bar)', errors: [{ message: "spreads are not supported." }] },
    { code: 'foo(1, ...bar)', errors: [{ message: "spreads are not supported." }] },
    { code: 'let a = [1, ...bar, 3];', errors: [{ message: "spreads are not supported." }] },
  ]
});
